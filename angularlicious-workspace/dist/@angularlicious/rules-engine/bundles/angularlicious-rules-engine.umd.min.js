!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("typescript-dotnet-commonjs/System/Compare")):"function"==typeof define&&define.amd?define("@angularlicious/rules-engine",["exports","@angular/core","@angular/common","typescript-dotnet-commonjs/System/Compare"],e):e((t.angularlicious=t.angularlicious||{},t.angularlicious["rules-engine"]={}),t.ng.core,t.ng.common,t.Compare)}(this,function(t,e,r,n){"use strict";var i=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[r.CommonModule]}]}],t}(),u=function A(t,e){this.isValid=!1,null!=t&&(this.rulePolicy=t,this.isValid=t.isValid,this.message=t.message),this.target=e},s={ExitOnFirstFalseEvaluation:0,ExitOnFirstTrueEvaluation:1,EvaluateAllRules:2};s[s.ExitOnFirstFalseEvaluation]="ExitOnFirstFalseEvaluation",s[s.ExitOnFirstTrueEvaluation]="ExitOnFirstTrueEvaluation",s[s.EvaluateAllRules]="EvaluateAllRules";var o={Exception:0,Warning:1,Information:2};o[o.Exception]="Exception",o[o.Warning]="Warning",o[o.Information]="Information";var a=function(){function t(t,e,r,n,i){void 0===r&&(r=!1),void 0===n&&(n=o.Exception),void 0===i&&(i=0),this.isValid=!0,this.renderType=s.EvaluateAllRules,this.severity=o.Exception,this.name=t,this.message=e,this.isDisplayable=r,this.priority=i,this.severity=n}return t.prototype.execute=function(){return console.log("Begin execution of RulePolicy: "+this.name),this.render()},t.prototype.render=function(){throw new Error("Each concrete rule must implement this function and return a valid Result.")},t}(),l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function h(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var c=function(i){function t(t,e,r){var n=i.call(this,t,e,r)||this;return n.hasErrors=!1,n.results=new Array,n.rules=new Array,n}return h(t,i),t.prototype.render=function(){var e=this;return this.rules.sort(function(t){return t.priority}).forEach(function(t){return e.results.push(t.execute())}),this.processResults()},t.prototype.hasRules=function(){return!!(this.rules&&0<this.rules.length)},t.prototype.processResults=function(){return 0<this.results.filter(function(t){return!1===t.isValid}).length&&(this.isValid=!1,this.hasErrors=!0),new u(this)},t}(a),p=function(n){function t(t,e,r){return n.call(this,t,e,r)||this}return h(t,n),t}(a),g=function(s){function t(t,e,r,n){void 0===n&&(n=!1);var i=s.call(this,t,e,n)||this;return i.target=r,i}return h(t,s),t.prototype.render=function(){return null==this.target||typeof this.target===undefined||"undefined"==typeof this.target?this.isValid=!0:this.isValid=!1,new u(this,this.target)},t}(p),f=function(s){function t(t,e,r,n){void 0===n&&(n=!1);var i=s.call(this,t,e,n)||this;return i.target=r,i}return h(t,s),t.prototype.render=function(){return null!=this.target&&null!==this.target&&"undefined"!=typeof this.target||(this.isValid=!1),new u(this,this.target)},t}(p),d=function(s){function t(t,e,r,n){void 0===n&&(n=!0);var i=s.call(this,t,e,n)||this;return i.target=r,i}return h(t,s),t.prototype.render=function(){return!(this.isValid=!0)===this.target&&(this.isValid=!1),new u(this,this.target)},t}(p),y=function(s){function t(t,e,r,n){void 0===n&&(n=!1);var i=s.call(this,t,e,n)||this;return i.target=r,i}return h(t,s),t.prototype.render=function(){return this.target&&(this.isValid=!1),new u(this,this.target)},t}(p),v=function(o){function t(t,e,r,n,i){void 0===i&&(i=!1);var s=o.call(this,t,e,i)||this;return s.target=r,s.comparison=n,s}return h(t,o),t.prototype.render=function(){return-1===n.compare(this.target,this.comparison,!0)&&(this.isValid=!1),new u(this,this.target)},t}(p),m=function(o){function t(t,e,r,n,i){void 0===i&&(i=!1);var s=o.call(this,t,e,i)||this;return s.target=r,s.comparison=n,s}return h(t,o),t.prototype.render=function(){return 1===n.compare(this.target,this.comparison,!0)&&(this.isValid=!1),new u(this,this.target)},t}(p),E=function(u){function t(t,e,r,n,i,s){void 0===s&&(s=!1);var o=u.call(this,t,e,s)||this;return o.target=r,o.start=n,o.end=i,o.isDisplayable=s,o.rules.push(new f("TargetIsNotNull","The target is null or undefined.",o.target)),null!=o.target&&(o.rules.push(new v("MinValue","The value must be equal to or greater than the start range value.",o.target,o.start)),o.rules.push(new m("MaxValue","The value must be equal to or less than the end range value.",o.target,o.end))),o}return h(t,u),t}(c),M=function(o){function t(t,e,r,n,i){void 0===i&&(i=!0);var s=o.call(this,t,e,i)||this;return s.target=r,s.comparison=n,s}return h(t,o),t.prototype.render=function(){return 0!==n.compare(this.target,this.comparison,!0)&&(this.isValid=!1),new u(this,this.target)},t}(p),w=function(o){function t(t,e,r,n,i){void 0===i&&(i=!0);var s=o.call(this,t,e,i)||this;return s.target=r,s.comparison=n,s}return h(t,o),t.prototype.render=function(){return 0===n.compare(this.target,this.comparison,!0)&&(this.isValid=!1),new u(this,this.target)},t}(p),x=function(u){function t(t,e,r,n,i,s){void 0===s&&(s=!1);var o=u.call(this,t,e,s)||this;return o.target=r,o.minLength=n,o.maxLength=i,o.configureRules(),o}return h(t,u),t.prototype.configureRules=function(){this.rules.push(new f("StringIsNotNull","The string target is null or undefined.",this.target)),null!=this.target&&this.rules.push(new E("TargetLengthIsWithinRange","The string value is not within the specified range.",this.target.toString().length,this.minLength,this.maxLength))},t}(c),T={Information:1,Warning:2,Error:3};T[T.Information]="Information",T[T.Warning]="Warning",T[T.Error]="Error";var V=function(){function t(){this.Messages=new Array}return t.prototype.addMessage=function(t){this.Messages.push(t)},t.prototype.hasErrors=function(){if(this.Messages&&0<this.Messages.length&&0<this.Messages.filter(function(t){return t.MessageType===T.Error}).length)return!0;return!1},t.prototype.isGood=function(){if(this.Messages&&0<this.Messages.length&&0<this.Messages.filter(function(t){return t.MessageType===T.Error}).length)return!1;return!0},t}(),R=function(){function t(t,e,r,n,i){void 0===i&&(i=!1),this.Name=t,(this.Message=e)&&(this.MessageType=r),n&&(this.Source=n)}return t.prototype.WithName=function(t){return this.Name=t,this},t.prototype.WithMessage=function(t){return this.Message=t,this},t.prototype.WithMessageType=function(t){return this.MessageType=t,this},t.prototype.WithSource=function(t){return this.Source=t,this},t.prototype.WithDisplayToUser=function(t){return this.DisplayToUser=t,this},t.prototype.toString=function(){return"Name: "+this.Name+"; Message: "+this.Message+"; MessageType: "+this.MessageType.toString()+"; Source: "+this.Source+"; DisplayToUser: "+this.DisplayToUser},t}(),S={NotEvaluated:0,Success:1,Failure:2};S[S.NotEvaluated]="NotEvaluated",S[S.Success]="Success",S[S.Failure]="Failure";var N=function(){function t(){this.state=S.NotEvaluated,this.results=new Array,this.rules=new Array,console.log("The [ValidationContext] is ready for action(s). All things are good until broken...")}return t.prototype.addRule=function(t){return this.source&&(t.source=this.source),this.rules.push(t),this},t.prototype.withSource=function(t){return this.source=t,this},t.prototype.renderRules=function(){var e=this;return this.results=new Array,this.rules&&this.rules.length<1||this.rules.sort(function(t){return t.priority}).forEach(function(t){return e.results.push(t.execute())}),this},t.prototype.hasRuleViolations=function(){var t=!1;this.rules&&(0<(this.rules&&this.rules.filter(function(t){return!1===t.isValid}).length)&&(t=!0));return t},Object.defineProperty(t.prototype,"isValid",{get:function(){var t=!0;this.rules&&(0<this.rules.filter(function(t){return!1===t.isValid}).length&&(t=!1));return t},enumerable:!0,configurable:!0}),t}();t.AngularliciousRulesEngineModule=i,t.RuleResult=u,t.RulePolicy=a,t.RenderType=s,t.CompositeRule=c,t.SimpleRule=p,t.IsNullOrUndefined=g,t.IsNotNullOrUndefined=f,t.IsTrue=d,t.IsFalse=y,t.Min=v,t.Max=m,t.Range=E,t.AreEqual=M,t.AreNotEqual=w,t.StringIsNotNullEmptyRange=x,t.Severity=o,t.ServiceContext=V,t.ServiceMessage=R,t.MessageType=T,t.ValidationContext=N,t.ValidationContextState=S,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angularlicious-rules-engine.umd.min.js.map