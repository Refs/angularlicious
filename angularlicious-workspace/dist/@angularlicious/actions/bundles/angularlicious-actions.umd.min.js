!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("@angular/common"),require("@angularlicious/rules-engine")):"function"==typeof define&&define.amd?define("@angularlicious/actions",["exports","@angular/core","@angular/common","@angularlicious/rules-engine"],o):o((t.angularlicious=t.angularlicious||{},t.angularlicious.actions={}),t.ng.core,t.ng.common,t.angularliciousRulesEngine)}(this,function(t,o,n,i){"use strict";var e=function(){function t(){}return t.decorators=[{type:o.NgModule,args:[{imports:[i.AngularliciousRulesEngineModule,n.CommonModule]}]}],t}(),c={Success:1,Fail:2,Unknown:3};c[c.Success]="Success",c[c.Fail]="Fail",c[c.Unknown]="Unknown";var a=function(){function t(){this.allowExecution=!0,this._validationContext=new i.ValidationContext,this.actionResult=c.Unknown}return Object.defineProperty(t.prototype,"validationContext",{get:function(){return this._validationContext},enumerable:!0,configurable:!0}),t.prototype.execute=function(){console.log("Preparing to execute action."),this.processActionPipeline()},t.prototype.processActionPipeline=function(){this.startAction(),this.allowExecution&&this.processAction(),this.finishAction()},t.prototype.startAction=function(){console.log("Starting action."),this.start(),this.audit(),this.preValidateAction(),this.evaluateRules(),this.postValidateAction(),this.preExecuteAction()},t.prototype.finishAction=function(){console.log("Finishing action."),this.postExecuteAction(),this.validateActionResult(),this.finish()},t.prototype.processAction=function(){console.log("Processing action."),this.performAction()},t.prototype.performAction=function(){throw new Error("Not implemented. Requires implementation in concrete action.")},t.prototype.start=function(){console.log("Starting action.")},t.prototype.audit=function(){console.log("Auditing action.")},t.prototype.preValidateAction=function(){console.log("Pre-validating action.")},t.prototype.evaluateRules=function(){console.log("Evaluating action rules."),this.validateAction().isValid?(this.allowExecution=!0,this.validationContext.state=i.ValidationContextState.Success):(this.allowExecution=!1,this.validationContext.state=i.ValidationContextState.Failure)},t.prototype.postValidateAction=function(){console.log("Post-Validation of action.")},t.prototype.preExecuteAction=function(){console.log("Pre-execution of action.")},t.prototype.postExecuteAction=function(){console.log("Post-execution of action")},t.prototype.validateActionResult=function(){throw new Error("Concrete actions required to implement this method.")},t.prototype.finish=function(){console.log("Finish action.")},t.prototype.validateAction=function(){return console.log("Validating the action."),this.validationContext},t}();t.ActionsModule=e,t.Action=a,t.ActionResult=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angularlicious-actions.umd.min.js.map